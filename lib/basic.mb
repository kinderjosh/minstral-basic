# basic.mb
# Standard library for Minstral BASIC.

######################################
# I/O
######################################

# Prints a number and a newline.
sub print(i)
    asm
        opi _printi
        opc '\n'
    end
end

# Prints a character.
sub printchr(c)
    asm
        opc _printchrc
    end
end

# Prints a number.
sub printnum(n)
    asm
        opi _printnumn
    end
end

# Reads an integer from the command line.
sub input()
    x = 0

    asm
        ipi _inputx
    end

    return x
end

# Reads a character from the command line.
sub inputchr()
    c = 0

    asm
        ipc _inputchrc
    end

    return c
end

######################################
# Debugging
######################################

# Stop the program.
sub stop()
    asm
        hlt
    end
end

######################################
# Math
######################################

# Returns a number as positive.
sub abs(x)
    if x < 0
        return -x
    end

    return x
end
